import{V as N}from"./BQ1v-1nn.js";import{u as R}from"./D49-a2Gj.js";import{a as f}from"./BGFP1kuB.js";import{r as T,h as $}from"./Dt-H8hG_.js";import{b as D,l as L,d as M}from"./DC-AD4tD.js";import{u as P}from"./U05EHdjt.js";import{d as A,R as F,S as w,T as H,H as r,N as g,O as B,M as O,K as h,U as e,I as p,Q as K,E as Q,D as c}from"./DIRjBTfL.js";const U=["title"],W=["viewBox"],j=["cx","cy","r"],q={class:"absolute bg-complementary"},G={class:"thumbnail absolute inset-0"},J=["src","alt"],s=10,a=768,X=2,Y=27,le=A({__name:"VAudioThumbnail",props:{audio:{}},setup(V){const u=V,{audio:m}=F(u),{isHidden:n}=P(m),{t:y}=R({useScope:"global"}),x=n.value?y("sensitiveContent.title.audio"):y("audioThumbnail.alt",{title:u.audio.title,creator:u.audio.creator}),_=w(null),d=w(!1),k=()=>{d.value=!0};H(()=>{var t,o;d.value=!!((t=_.value)!=null&&t.complete&&((o=_.value)!=null&&o.naturalWidth))});const C=T($(u.audio.title??"")),z=Array.from({length:4},(t,o)=>[C()*a,o/3*a]),S=s+1,E=D(z,S),v=t=>t*(a/(s+1)),I=(t,o)=>{const b=E[t],l=M([0,b],[0,v(o)]),i=a*((s-1)/(s+1));return L(Y,X,l/i)};return(t,o)=>{const b=N;return c(),r("div",{class:"relative h-0 w-full overflow-hidden pt-full",title:e(x)},[d.value?O("",!0):(c(),r("svg",{key:0,class:"absolute inset-0 bg-complementary",viewBox:`0 0 ${a} ${a}`},[(c(),r(g,null,B(s,l=>(c(),r(g,null,[(c(),r(g,null,B(s,i=>h(p("circle",{key:`${l}-${i}`,class:"fill-gray-12",cx:v(i),cy:v(l),r:I(l,i)},null,8,j),[[f,!e(n)]])),64))],64))),64))],8,W)),h(p("div",q,null,512),[[f,e(n)&&!e(m).thumbnail]]),h(p("div",G,[p("img",{ref_key:"imgEl",ref:_,class:K(["h-full w-full overflow-clip object-cover object-center duration-200 motion-safe:transition-[filter,transform]",{"scale-150 blur-image":e(n)}]),src:e(m).thumbnail,alt:e(x),onLoad:k},null,42,J)],512),[[f,e(m).thumbnail&&d.value]]),h(Q(b,{name:"eye-closed",class:"absolute left-[calc(50%-0.75rem)] top-[calc(50%-0.75rem)]"},null,512),[[f,e(n)]])],8,U)}}});export{le as _};
