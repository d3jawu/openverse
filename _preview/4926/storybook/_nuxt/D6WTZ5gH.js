import{n as H}from"./DQej5_ef.js";import{u as V}from"./Dru8MgPD.js";import{A as B,i as F,e as L}from"./DQZ7AVLk.js";import{_ as D,u as z}from"./DQs5-Eiu.js";import{u as G,a as U}from"./D8ABh0bF.js";import{u as E}from"./n5kG8ZGm.js";import{u as j}from"./D7p9i7S1.js";import{_ as q}from"./6fTZpmgP.js";import{s as J}from"./BOX21o1p.js";import{u as Q}from"./gEJdwIBZ.js";import{H as w}from"./-TaKdCZx.js";import{_ as X}from"./DkV6YJSQ.js";import{_ as Y}from"./Cw9k70Tb.js";import{_ as Z}from"./BNYTW4j0.js";import{_ as K}from"./CBk892gs.js";import{b as W}from"./BGFP1kuB.js";import{_ as ee}from"./DXFirxxP.js";import{d as $,S as h,D as p,H as v,I as _,J as te,Q as oe,E as l,z as c,Z as re,L as k,C as d,P as se,U as a,N as ae,A as T,M as I,Y as A,T as ie}from"./DIRjBTfL.js";import"./CFMQYC2y.js";import"./DZjlKxoF.js";import"./DRH7DRcP.js";import"./C0a-n2GY.js";import"./yH-X360_.js";import"./CVtkxrq9.js";import"./BhVvqNG6.js";import"../sb-preview/runtime.js";import"./Xs_VBmP5.js";import"./B2WlxZpZ.js";import"./Bz7P8nyL.js";import"./Co_6C_Y0.js";import"./BwYXyR0A.js";import"./BSEdKPgk.js";import"./D49-a2Gj.js";import"./CTON8dBl.js";import"./DT9s3jb5.js";import"./Cpj98o6Y.js";import"./D0ww02ZN.js";import"./Dt-H8hG_.js";import"./BQ1v-1nn.js";import"./CuPsdpTl.js";import"./DlAUqK2U.js";import"./BaD6kt_k.js";import"./Ci7G4jyV.js";import"./C7ap0NCC.js";import"./D8pdfxpK.js";import"./BMQHI8S6.js";import"./DQnMOLSw.js";import"./C-wnx55g.js";import"./Cq4psN1U.js";import"./DsDaPSYo.js";import"./DMKwOO6r.js";import"./BllLUjK0.js";import"./RevM6cLn.js";import"./CWKBBmmQ.js";import"./B9OEfXZU.js";import"./CFDM1QBy.js";import"./Bnkvtx4f.js";import"./CqfDI07r.js";import"./m6RLzbCz.js";import"./D8jkAchZ.js";import"./DRBXVX2t.js";import"./hFje-mMC.js";import"./jdk7YAXT.js";import"./BcrC-lJ8.js";import"./BwpRDa_V.js";import"./BCZrajsX.js";import"./fl49u9nx.js";import"./BNp_2Fah.js";import"./DzbKfbAY.js";import"./BAa3Qhj0.js";const ne=["placeholder","aria-label"],le=$({__name:"VStandaloneSearchBar",props:{route:{default:"home"},hasPopover:{type:Boolean,default:!1}},emits:["submit"],setup(y,{expose:u,emit:f}){const m=f,s=h(null),i=()=>{var r;const e=(r=s.value)==null?void 0:r.value.trim();e&&m("submit",e)};return u({focusInput:()=>{var e;(e=s.value)==null||e.focus()}}),(e,r)=>(p(),v("form",{action:"/search",role:"search",class:"search-bar group flex h-14 flex-row items-center rounded-sm border-tx bg-default sm:h-16",onSubmit:W(i,["prevent"])},[_("div",{class:oe(["input-field search-field group flex h-full flex-grow items-center overflow-hidden rounded-sm rounded-e-none border border-e-0 p-0.5px pe-2 focus-within:border-1.5 focus-within:border-e-0 focus-within:p-0 focus-within:pe-2",[e.route==="home"?"border-tx":"border-black",e.hasPopover?"focus-within:border-tx":"focus-within:border-focus"]])},[_("input",{id:"search-bar",ref_key:"inputRef",ref:s,type:"search",name:"q",placeholder:e.$t("hero.search.placeholder"),class:"paragraph-large md:label-regular ms-4 h-full w-full appearance-none rounded-none bg-tx leading-none text-default placeholder-gray-8 focus-visible:outline-none","aria-label":e.$t("search.searchBarLabel",{openverse:"Openverse"})},null,8,ne),te(e.$slots,"default")],2),l(ee,{route:e.route},null,8,["route"])],32))}}),pe=["id"],me={class:"mb-2 mt-auto text-[40px] font-light leading-tight lg:text-[63px]"},ce={class:"text-base leading-relaxed"},ue=$({__name:"VHomepageContent",props:{handleSearch:{type:Function},searchType:{},setSearchType:{type:Function}},emits:["keydown","blur","focus","open","close"],setup(y,{emit:u}){const f=y,m=u,s=h(null),i=h(null),g=c(()=>{var t;return((t=i.value)==null?void 0:t.$el)??null}),e=E(),r=h(!1),S=c(()=>e.isBreakpoint("sm")),o=c(()=>e.isBreakpoint("lg")),b=c(()=>{var t;return((t=s.value)==null?void 0:t.$el)||null}),N=c(()=>!o.value),C=t=>{var n;f.setSearchType(t),(n=i.value)==null||n.focusInput(),x()},{close:x,open:R,onTriggerClick:M,triggerA11yProps:O}=Q({id:w,visibleRef:r,nodeRef:g,lockBodyScroll:N,emit:m});return(t,n)=>{const P=re("i18n-t");return p(),v("div",{id:a(J),tabindex:"-1"},[_("h1",me,k(t.$t("hero.subtitle")),1),n[1]||(n[1]=_("p",{class:"sr-only"},"Testing Nuxt 3",-1)),_("p",ce,k(t.$t("hero.description")),1),l(le,{ref_key:"searchBarRef",ref:i,class:"mt-4 md:mt-6","has-popover":!!b.value&&r.value,onSubmit:t.handleSearch},{default:d(()=>[l(Z,se({id:"search-type-button",ref_key:"searchTypeButtonRef",ref:s,class:"ms-2 flex-none","search-type":t.searchType},a(O),{"show-label":S.value,"aria-controls":"content-switcher-popover",onClick:a(M)}),null,16,["search-type","show-label","onClick"]),b.value?(p(),v(ae,{key:0},[o.value?(p(),T(Y,{key:0,id:a(w),"z-index":"popover",hide:a(x),"trap-focus":!1,visible:r.value,"trigger-element":b.value,"aria-labelledby":"search-type-button"},{default:d(()=>[l(K,{size:"small","use-links":!1,onSelect:C})]),_:1},8,["id","hide","visible","trigger-element"])):(p(),T(X,{key:1,id:a(w),"aria-labelledby":"search-type-button",close:a(x),visible:r.value,"use-links":!1,"show-filters":!1,variant:"fit-content",onOpen:a(R),onSelect:C},null,8,["id","close","visible","onOpen"]))],64)):I("",!0)]),_:1},8,["has-popover","onSubmit"]),l(P,{scope:"global",keypath:"hero.disclaimer.content",tag:"p",class:"mt-4 text-sr"},{openverse:d(()=>n[0]||(n[0]=[A("Openverse")])),license:d(()=>[l(D,{href:"https://creativecommons.org/licenses/",class:"text-default underline hover:text-default"},{default:d(()=>[A(k(t.$t("hero.disclaimer.license")),1)]),_:1})]),_:1})],8,pe)}}}),fe={class:"index flex w-full flex-shrink-0 flex-grow flex-col justify-center gap-6 px-6 sm:px-0 lg:flex-row lg:items-center lg:justify-between lg:gap-0"},Et=$({name:"HomePage",__name:"index",setup(y){const u=j(),f=G(),m=U(),s=E(),{sendCustomEvent:i}=z();V({meta:[{hid:"theme-color",name:"theme-color",content:"#ffe033"}]}),ie(()=>{m.$reset(),f.$reset()});const g=c(()=>s.isBreakpoint("xl")),e=h(B),r=o=>{(o===B||F(o)||u.isOn("additional_search_types")&&L(o))&&(e.value=o)},S=o=>(i("SUBMIT_SEARCH",{searchType:e.value,query:o}),H(m.updateSearchPath({type:e.value,searchTerm:o})));return(o,b)=>(p(),v("main",fe,[l(ue,{class:"sm:px-14 md:px-20 lg:px-26 xl:w-[53.375rem] xl:pe-0","handle-search":S,"search-type":e.value,"set-search-type":r},null,8,["search-type"]),g.value?(p(),T(q,{key:0,class:"mx-10 me-12 flex h-full flex-grow"})):I("",!0)]))}});export{Et as default};
