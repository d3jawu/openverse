import{u as k}from"./DZjlKxoF.js";import{a as m}from"./BGFP1kuB.js";import{u as R,a as V}from"./D8ABh0bF.js";import{u as $}from"./n5kG8ZGm.js";import{I as F}from"./fl49u9nx.js";import{u as D}from"./nePw-vMe.js";import{u as E}from"./BNp_2Fah.js";import{e as I}from"./DQnMOLSw.js";import{_ as C}from"./CVpMdkN0.js";import{_ as H}from"./BGC2yl48.js";import{_ as L}from"./RoKdHXFU.js";import{V as N}from"./BLHYS2vx.js";import{_ as U}from"./C4c1J7BE.js";import{d as j,S as p,$ as z,z as r,H as A,E as o,C as G,U as a,a1 as K,D as M,K as h,I as q,L as O}from"./DIRjBTfL.js";const P={class:"main-header z-30 flex w-full items-stretch justify-between gap-x-2 bg-default px-6 py-4"},ce=j({__name:"VHeaderDesktop",setup(X){const _=p(null),l=p(null),S=R(),n=V(),i=$(),s=z(F),g=r(()=>S.fetchState.isFetching),{$sendCustomEvent:c}=k(),{updateSearchState:x,searchTerm:t,searchStatus:u}=D(c),w=()=>{var e;t.value="",I((e=l.value)==null?void 0:e.$el.querySelector("input"))},d=async()=>{window.scrollTo({top:0,left:0,behavior:"auto"});const e=document.activeElement;e==null||e.blur(),x()},b=r(()=>!n.searchTypeIsSupported),y=()=>{const e=s!=null&&s.value?"closed":"opened";c("TOGGLE_FILTER_SIDEBAR",{searchType:n.searchType,toState:e}),i.toggleFilters()},v=r(()=>i.isBreakpoint("xl")),{doneHydrating:B}=E();return(e,f)=>(M(),A("header",P,[o(L,{"is-fetching":g.value},null,8,["is-fetching"]),o(H,{ref_key:"searchBarRef",ref:l,modelValue:a(t),"onUpdate:modelValue":f[0]||(f[0]=T=>K(t)?t.value=T:null),modelModifiers:{trim:!0},class:"me-4 flex-grow",onSubmit:d,onRecentHidden:d},{default:G(()=>[h(o(N,{icon:"close-small",label:e.$t("browsePage.searchForm.clear"),variant:"filled-white",class:"hidden group-focus-within:flex",onClick:w},null,8,["label"]),[[m,a(t)!==""]]),h(q("span",{class:"info mx-4 hidden whitespace-nowrap text-xs text-secondary group-focus-within:hidden group-hover:text-default group-focus:text-default lg:block"},O(a(u)),513),[[m,!!a(u)]])]),_:1},8,["modelValue"]),o(U,{"show-label":v.value},null,8,["show-label"]),o(C,{ref_key:"filterButtonRef",ref:_,class:"flex self-stretch",pressed:a(s),disabled:!a(B)||b.value,"aria-haspopup":"dialog","aria-expanded":a(s),onToggle:y},null,8,["pressed","disabled","aria-expanded"])]))}});export{ce as _};
