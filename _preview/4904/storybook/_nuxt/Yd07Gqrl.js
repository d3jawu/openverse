import{n as F}from"./BheX1Zp4.js";import{u as V}from"./Ds0Wu5KN.js";import{A as B,i as H,e as L}from"./Bqqd15Vm.js";import{_ as D,u as G}from"./CsQIKZHD.js";import{u as z,a as U}from"./D-k7DCjt.js";import{u as R}from"./cbNq9jmL.js";import{u as j}from"./lQMUZJX_.js";import{_ as q}from"./Zzk2Ve_o.js";import{s as X}from"./BOX21o1p.js";import{u as J}from"./1SXAe4jj.js";import{H as w}from"./-TaKdCZx.js";import{_ as K}from"./CCeIaFqX.js";import{_ as Q}from"./DHWo206y.js";import{_ as Y}from"./BtZ3tz3E.js";import{_ as W}from"./C4zJvfKS.js";import{a as Z}from"./DLdssb3b.js";import{_ as ee}from"./Dg4QPHsd.js";import{d as $,A as h,M as p,D as b,J as _,Q as te,K as oe,L as l,N as c,Y as re,U as k,P as d,R as se,I as a,F as ae,O as T,G as E,X as A,C as ie}from"./3w4k60lH.js";import"./CFMQYC2y.js";import"./CiFXGpc2.js";import"./By-ckOt8.js";import"./BSkdydGD.js";import"./yH-X360_.js";import"./CVtkxrq9.js";import"./Bt0t79L8.js";import"../sb-preview/runtime.js";import"./Xs_VBmP5.js";import"./BFSUimDm.js";import"./Bz7P8nyL.js";import"./B2tpwjEJ.js";import"./ByTiJpPE.js";import"./BSEdKPgk.js";import"./CyecUNdH.js";import"./CTON8dBl.js";import"./qyDmD4fY.js";import"./Cpj98o6Y.js";import"./D0ww02ZN.js";import"./Dt-H8hG_.js";import"./BohTCMpu.js";import"./Dm22SxXZ.js";import"./DlAUqK2U.js";import"./CP4nIMOC.js";import"./Ci7G4jyV.js";import"./H-yXjwn7.js";import"./DvzB5Sh3.js";import"./BOCIT4X8.js";import"./DQnMOLSw.js";import"./r1cQ15Ln.js";import"./1JpoQThl.js";import"./Bj-UsDq4.js";import"./B7kYnUa5.js";import"./BnNEoJIf.js";import"./RevM6cLn.js";import"./B7Srk2Ks.js";import"./CrY2j4VE.js";import"./y4sJajyg.js";import"./Bnkvtx4f.js";import"./DI74Ipeh.js";import"./D1dKGURj.js";import"./lW3L4vQS.js";import"./EMHqGTN8.js";import"./ivGL3Dco.js";import"./BFQMKLeF.js";import"./BknTx2lO.js";import"./DjfkZMYu.js";import"./fl49u9nx.js";import"./rw0F6EcL.js";import"./fuZ_HMJj.js";import"./BOEComaU.js";const ne=["placeholder","aria-label"],le=$({__name:"VStandaloneSearchBar",props:{route:{default:"home"},hasPopover:{type:Boolean,default:!1}},emits:["submit"],setup(y,{expose:u,emit:f}){const m=f,s=h(null),i=()=>{var r;const e=(r=s.value)==null?void 0:r.value.trim();e&&m("submit",e)};return u({focusInput:()=>{var e;(e=s.value)==null||e.focus()}}),(e,r)=>(p(),b("form",{action:"/search",role:"search",class:"search-bar group flex h-14 flex-row items-center rounded-sm border-tx bg-default sm:h-16",onSubmit:Z(i,["prevent"])},[_("div",{class:oe(["input-field search-field group flex h-full flex-grow items-center overflow-hidden rounded-sm rounded-e-none border border-e-0 p-0.5px pe-2 focus-within:border-1.5 focus-within:border-e-0 focus-within:p-0 focus-within:pe-2",[e.route==="home"?"border-tx":"border-black",e.hasPopover?"focus-within:border-tx":"focus-within:border-focus"]])},[_("input",{id:"search-bar",ref_key:"inputRef",ref:s,type:"search",name:"q",placeholder:e.$t("hero.search.placeholder"),class:"paragraph-large md:label-regular ms-4 h-full w-full appearance-none rounded-none bg-tx leading-none text-default placeholder-gray-8 focus-visible:outline-none","aria-label":e.$t("search.searchBarLabel",{openverse:"Openverse"})},null,8,ne),te(e.$slots,"default")],2),l(ee,{route:e.route},null,8,["route"])],32))}}),pe=["id"],me={class:"mb-2 mt-auto text-[40px] font-light leading-tight lg:text-[63px]"},ce={class:"text-base leading-relaxed"},ue=$({__name:"VHomepageContent",props:{handleSearch:{type:Function},searchType:{},setSearchType:{type:Function}},emits:["keydown","blur","focus","open","close"],setup(y,{emit:u}){const f=y,m=u,s=h(null),i=h(null),g=c(()=>{var t;return((t=i.value)==null?void 0:t.$el)??null}),e=R(),r=h(!1),S=c(()=>e.isBreakpoint("sm")),o=c(()=>e.isBreakpoint("lg")),v=c(()=>{var t;return((t=s.value)==null?void 0:t.$el)||null}),I=c(()=>!o.value),C=t=>{var n;f.setSearchType(t),(n=i.value)==null||n.focusInput(),x()},{close:x,open:N,onTriggerClick:O,triggerA11yProps:M}=J({id:w,visibleRef:r,nodeRef:g,lockBodyScroll:I,emit:m});return(t,n)=>{const P=re("i18n-t");return p(),b("div",{id:a(X),tabindex:"-1"},[_("h1",me,k(t.$t("hero.subtitle")),1),n[1]||(n[1]=_("p",{class:"sr-only"},"Testing Nuxt 3",-1)),_("p",ce,k(t.$t("hero.description")),1),l(le,{ref_key:"searchBarRef",ref:i,class:"mt-4 md:mt-6","has-popover":!!v.value&&r.value,onSubmit:t.handleSearch},{default:d(()=>[l(Y,se({id:"search-type-button",ref_key:"searchTypeButtonRef",ref:s,class:"ms-2 flex-none","search-type":t.searchType},a(M),{"show-label":S.value,"aria-controls":"content-switcher-popover",onClick:a(O)}),null,16,["search-type","show-label","onClick"]),v.value?(p(),b(ae,{key:0},[o.value?(p(),T(Q,{key:0,id:a(w),"z-index":"popover",hide:a(x),"trap-focus":!1,visible:r.value,"trigger-element":v.value,"aria-labelledby":"search-type-button"},{default:d(()=>[l(W,{size:"small","use-links":!1,onSelect:C})]),_:1},8,["id","hide","visible","trigger-element"])):(p(),T(K,{key:1,id:a(w),"aria-labelledby":"search-type-button",close:a(x),visible:r.value,"use-links":!1,"show-filters":!1,variant:"fit-content",onOpen:a(N),onSelect:C},null,8,["id","close","visible","onOpen"]))],64)):E("",!0)]),_:1},8,["has-popover","onSubmit"]),l(P,{scope:"global",keypath:"hero.disclaimer.content",tag:"p",class:"mt-4 text-sr"},{openverse:d(()=>n[0]||(n[0]=[A("Openverse")])),license:d(()=>[l(D,{href:"https://creativecommons.org/licenses/",class:"text-default underline hover:text-default"},{default:d(()=>[A(k(t.$t("hero.disclaimer.license")),1)]),_:1})]),_:1})],8,pe)}}}),fe={class:"index flex w-full flex-shrink-0 flex-grow flex-col justify-center gap-6 px-6 sm:px-0 lg:flex-row lg:items-center lg:justify-between lg:gap-0"},At=$({name:"HomePage",__name:"index",setup(y){const u=j(),f=z(),m=U(),s=R(),{sendCustomEvent:i}=G();V({meta:[{hid:"theme-color",name:"theme-color",content:"#ffe033"}]}),ie(()=>{m.$reset(),f.$reset()});const g=c(()=>s.isBreakpoint("xl")),e=h(B),r=o=>{(o===B||H(o)||u.isOn("additional_search_types")&&L(o))&&(e.value=o)},S=o=>(i("SUBMIT_SEARCH",{searchType:e.value,query:o}),F(m.updateSearchPath({type:e.value,searchTerm:o})));return(o,v)=>(p(),b("main",fe,[l(ue,{class:"sm:px-14 md:px-20 lg:px-26 xl:w-[53.375rem] xl:pe-0","handle-search":S,"search-type":e.value,"set-search-type":r},null,8,["search-type"]),g.value?(p(),T(q,{key:0,class:"mx-10 me-12 flex h-full flex-grow"})):E("",!0)]))}});export{At as default};
