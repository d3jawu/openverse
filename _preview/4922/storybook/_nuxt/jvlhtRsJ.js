import{u as k}from"./BjWWdqDn.js";import{v as m}from"./uZ-0lEQS.js";import{u as R,a as V}from"./qPRnTkF6.js";import{u as F}from"./DNEZHl3_.js";import{I as $}from"./fl49u9nx.js";import{u as D}from"./k7e4nR8s.js";import{u as I}from"./DHle_phB.js";import{e as E}from"./DQnMOLSw.js";import{_ as H}from"./vgAjSfvb.js";import{_ as C}from"./l8U20XR3.js";import{_ as N}from"./XliY1ASR.js";import{V as A}from"./07sZ2Xo_.js";import{_ as L}from"./Dpta-aSq.js";import{d as M,A as p,_ as U,N as r,D as j,L as o,P as G,I as s,a0 as P,M as q,H as h,J as z,U as J}from"./BEWIBK-i.js";const K={class:"main-header z-30 flex w-full items-stretch justify-between gap-x-2 bg-default px-6 py-4"},ce=M({__name:"VHeaderDesktop",setup(O){const _=p(null),l=p(null),g=R(),n=V(),i=F(),t=U($),S=r(()=>g.fetchState.isFetching),{$sendCustomEvent:c}=k(),{updateSearchState:x,searchTerm:a,searchStatus:u}=D(c),w=()=>{var e;a.value="",E((e=l.value)==null?void 0:e.$el.querySelector("input"))},d=async()=>{window.scrollTo({top:0,left:0,behavior:"auto"});const e=document.activeElement;e==null||e.blur(),x()},b=r(()=>!n.searchTypeIsSupported),v=()=>{const e=t!=null&&t.value?"closed":"opened";c("TOGGLE_FILTER_SIDEBAR",{searchType:n.searchType,toState:e}),i.toggleFilters()},y=r(()=>i.isBreakpoint("xl")),{doneHydrating:B}=I();return(e,f)=>(q(),j("header",K,[o(N,{"is-fetching":S.value},null,8,["is-fetching"]),o(C,{ref_key:"searchBarRef",ref:l,modelValue:s(a),"onUpdate:modelValue":f[0]||(f[0]=T=>P(a)?a.value=T:null),modelModifiers:{trim:!0},class:"me-4 flex-grow",onSubmit:d,onRecentHidden:d},{default:G(()=>[h(o(A,{icon:"close-small",label:e.$t("browsePage.searchForm.clear"),variant:"filled-white",class:"hidden group-focus-within:flex",onClick:w},null,8,["label"]),[[m,s(a)!==""]]),h(z("span",{class:"info mx-4 hidden whitespace-nowrap text-xs text-secondary group-focus-within:hidden group-hover:text-default group-focus:text-default lg:block"},J(s(u)),513),[[m,!!s(u)]])]),_:1},8,["modelValue"]),o(L,{"show-label":y.value},null,8,["show-label"]),o(H,{ref_key:"filterButtonRef",ref:_,class:"flex self-stretch",pressed:s(t),disabled:!s(B)||b.value,"aria-haspopup":"dialog","aria-expanded":s(t),onToggle:v},null,8,["pressed","disabled","aria-expanded"])]))}});export{ce as _};
